<!-- Desktop Sidebar -->
<div
  *ngIf="!isMobile"
  class="sidebar-container"
  [class.sidebar-collapsed]="isCollapsed"
  [style.width]="isCollapsed ? '64px' : '220px'"
>
  <!-- Profile Section -->
  <div class="p-2 d-flex flex-column align-items-center">
    <div class="d-flex flex-column align-items-center w-100 position-relative">
      <div class="mb-1" [class.avatar-collapsed]="isCollapsed"></div>
      <!-- Toggle Button -->
      <button
        class="btn btn-lg btn-light border toggle-btn"
        [class.rounded-circle]="isCollapsed"
        [class.p-0]="isCollapsed"
        (click)="toggleCollapse()"
        [title]="isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'"
      >
        <i
          class="bi"
          [class.bi-arrow-bar-right]="isCollapsed"
          [class.bi-arrow-bar-left]="!isCollapsed"
        ></i>
      </button>
    </div>
  </div>

  <!-- Menu Items -->
  <div class="menuItemsDiv">
    <ul class="nav flex-column p-1">
      <!-- Main Menu Heading -->
      <li class="nav-item mt-1 mb-0">
        <div
          class="text-uppercase small fw-bold text-muted px-2 py-0"
          [class.text-center]="isCollapsed"
          [class.text-uppercase-sm]="isCollapsed"
        >
          Main
        </div>
      </li>

      <!-- Main Menu Items -->
      <li class="nav-item" *ngFor="let item of menuItems">
        <a
          class="nav-link d-flex align-items-center py-1 px-2 rounded text-dark text-decoration-none"
          [routerLink]="item.menuPath"
          routerLinkActive="active bg-primary text-white"
          [routerLinkActiveOptions]="{ exact: true }"
          [attr.title]="isCollapsed ? item.menuName : null"
        >
          <i
            class="bi bi-{{ item.menuIcon || 'circle' }}"
            [class.me-2]="!isCollapsed"
            [class.fs-6]="!isCollapsed"
          ></i>
          <span class="flex-grow-1" [class.d-none]="isCollapsed">{{
            item.menuName
          }}</span>
        </a>
      </li>

      <!-- Master Data Heading -->
      <li class="nav-item mt-1 mb-0" *ngIf="masterItems.length">
        <div
          class="text-uppercase small fw-bold text-muted px-2 py-0"
          [class.text-center]="isCollapsed"
          [class.text-uppercase-sm]="isCollapsed"
        >
          Master <span *ngIf="!isCollapsed">Data</span>
        </div>
      </li>

      <!-- Master Data Items -->
      <li class="nav-item" *ngFor="let item of masterItems">
        <a
          class="nav-link d-flex align-items-center py-1 px-2 rounded text-dark text-decoration-none"
          [routerLink]="item.menuPath"
          routerLinkActive="active bg-primary text-white"
          [routerLinkActiveOptions]="{ exact: true }"
          [attr.title]="isCollapsed ? item.menuName : null"
        >
          <i
            class="bi bi-{{ item.menuIcon || 'circle' }}"
            [class.me-2]="!isCollapsed"
            [class.fs-6]="!isCollapsed"
          ></i>
          <span class="flex-grow-1" [class.d-none]="isCollapsed">{{
            item.menuName
          }}</span>
        </a>
      </li>
    </ul>
  </div>
</div>
